<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="profile.css">
</head>
<body>
	<nav class="navbar navbar-expand-lg" id="nav">
   		<a class="navbar-brand" href="home.html">InLook</a>
   		<div class="collapse navbar-collapse" id="navbarSupportedContent">
   			<div class="input-group">
     			<input type="text" class="form-control" placeholder="Search...">
      			<span class="input-group-btn">
        			<button class="btn btn-default" type="button"><i class="fas fa-search"></i></button>
      			</span>
    		</div>
      		<ul class="navbar-nav ml-auto">
      			<li class="nav-item">
            		<a class="nav-link" href="profile.html" id="userName"><i class="fas fa-user-circle"></i> User </a>
         		</li>
         		<li class="nav-item">
            		<a class="nav-link" href="messages.html"><i class="far fa-envelope fa-lg"></i></a>
         		</li>
         		|
				<li class="nav-item">
					<a class="nav-link" href="login.html" id="logout"><i class="fas fa-sign-out-alt"></i></a>
				</li>
      		</ul>
   		</div>
	</nav>
	<div class="main">


	<!-- main content- bio, profile pic,
	following button, message button, project number, followers/following number-->
<div class="row">
	<div class="col-md-5 col-xs-3">
<div class="sidebar-profile-info">
	<!-- Profile essential details -->
	<div class="profile-important">
		<div class="profile-photo">
			<img src="profpic.png"  class="profpic" alt="">
		</div>
		<h3 class="username profileName" id="profileName">User</h3>
		<div class="bio">Hi, My name is <span class="profileName"></span>! Message me if you wanna work together!</div>
		<div class="profile-buttons">
			<button type="button" class="btn-sm-follow">Follow</button>
			<button type="button" class="btn-sm-message">Message</button>
		</div>
	</div>

	<!-- Skills list -->
	<div class="sidebar-info-bar">
		<div class="profile-important">
			<h4>Skills & Styles </h4>
			<ul class="skills-list">
				<li>Modern</li>
				<li>Contemporary</li>
				<li>Rustic</li>
			</ul>
		</div>
	</div>
	<div class="sidebar-info-bar">
		<div class="profile-important">
			<h4>Social</h4>
			<div id="socialMedia">
			<a href="wwww.twitter.com" class="fa fa-twitter"></a>
			<a href="wwww.linkedin.com" class="fa fa-linkedin"></a>
			<a href="www.instagram.com" class="fa fa-instagram"></a>
		</div>

		</div>
	</div>
</div>
</div>

<!-- <div class="col-md-7 col-xs-9">
	<div class="project1" id="profileProjects">
		<img class="img-responsive" src="profile_interior.jpg" alt="">
		<img class="img-responsive" src="profile_interior.jpg" alt="">
		<img class="img-responsive" src="profile_interior.jpg" alt="">
		<img class="img-responsive" src="profile_interior.jpg" alt="">
	</div>
</div> -->

<div class="projects-main">
	<!-- project1 -->
	<div class="project">
		<div class="project-pic">
			<img src="interior_design4.jpg" alt="" class="design-pics" id="project-1">
		</div>
		<!--<div class="description">
			<span class="meta"><img src="profpic.png" class="avatar"/>Sumedha Gupta</span>
		</div>-->
	</div>
	<!-- project2 -->
	<div class="project">
		<div class="project-pic">
			<img src="interior_design6.jpg" alt=""class="design-pics" id="project-2">
		</div>
		<!--<div class="description">
			<span class="meta"><img src="profpic.png" class="avatar"/>Lynley Yamaguchi</span>
		</div>-->
	</div>
	<!-- project3 -->
	<div class="project">
		<div class="project-pic">
			<img src="interior_design8.jpg" alt="" class="design-pics" id="project-3">
		</div>
		<!--<div class="description">
			<span class="meta"><img src="profpic.png" class="avatar"/>Vince Tierra</span>
		</div>-->
	</div>
	<!-- project4 -->
	<div class="project">
		<div class="project-pic">
			<img src="interior_design5.jpg" alt=""class="design-pics" id="project-4">
		</div>
		<!--<div class="description">
			<span class="meta"><img src="profpic.png" class="avatar"/>Kyle Burt</span>
		</div>-->
	</div>

	<div class="project">
		<div class="project-pic">
			<img src="interior_design5.jpg" alt=""class="design-pics" id="project-5">
		</div>
		<!--<div class="description">
			<span class="meta"><img src="profpic.png" class="avatar"/>Kyle Burt</span>
		</div>-->
	</div>

</div>
</div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
$(document).ready(() => {
	const userId = sessionStorage.getItem('id');
	const getUserProfileUrl = '/loadProfile/' + userId;
	console.log(getUserProfileUrl);
	$.ajax({
		url: getUserProfileUrl,
		type: 'GET',
		datatype: 'JSON',
		success: (data) => {
			console.log('Recieved user profile info');
			console.log(data);
			$('#userName')[0].childNodes[1].nodeValue = ' ' + data.firstName + ' ' + data.lastName;
			$('.profileName').html(data.firstName + ' ' + data.lastName);
		}
	});
	const getUserProjectsUrl = '/loadProjects/' + userId;
	$.ajax({
		url: getUserProjectsUrl,
		type: 'GET',
		datatype: 'JSON',
		success: (data) => {
			$('#project-1').attr('src',data[0].mainImg);
			$('#project-2').attr('src',data[1].mainImg);
			$('#project-3').attr('src',data[2].mainImg);
			$('#project-4').attr('src',data[3].mainImg);
			$('#project-5').attr('src',data[4].mainImg);
		}
	});

	$('#logout').click(() => {
		sessionStorage.clear();
		console.log(sessionStorage.getItem('id'));
	});

});
	</script>
</body>
</html>
